{% extends "layout.html" %}
{% from "form_helper.html" import render_field %}


{% block content %}

<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Company name</a>
    <ul class="navbar-nav px-3">
      <li class="nav-item text-nowrap">
        <a class="nav-link" href="#">{{ name }}</a>
    </ul>
  </nav>
  
  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-2 d-none d-md-block bg-light sidebar mt-5">
        <div class="sidebar-sticky pb-3">
          
          <h3 class="mt-3 mb-4">Add Expense</h3>
              <form method=POST action="{{ url_for('index') }}">

                {{ render_field(form.payee) }}
                {{ render_field(form.amount) }}
                {{ render_field(form.date_ref) }}
                                
            <button type="submit" class="btn btn-primary" value=Register>Submit</button>
          </form>
        </div>
      </nav>
  
      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4 mt-5">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Dashboard</h1>
        </div>

        {% for item in plot %}
          {{ item|safe }}
        {% endfor %}

        <h3>Section title</h3>
        <div class="table-responsive">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Date</th>
                <th>Payee</th>
                <th>Amount</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for doc in table %}
              <tr>
                <div>
                  <td class="align-middle">{{ doc['contas'].month_ref }}</td>
                  <td class="align-middle">{{ doc['contas'].payee }}</td>
                  <td class="align-middle">{{ doc['contas'].amount }}</td>
                  <td class="align-middle">
                    <button type="button" class="btn btn-outline-success btn-sm">Edit</button>
                    <button type="button" class="btn btn-outline-danger btn-sm">Delete</button>
                  </td>
                </div>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </main>
    </div>
  </div>

  
{% endblock %}